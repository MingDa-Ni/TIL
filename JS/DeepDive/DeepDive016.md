# JS - DeepDive
## 2022-11-29 Tue

## 원시 값의 객체의 비교

### Intro

* 원시 타입(primitive type)
  * 변경 불가능한 값(immutable value)
  * 변수 할당시 변수에 `실제 값이 저장`
  * 원시 값을 갖는 변수를 다른 변수에 할당하면 `원본의 원시 값이 복사되어 전달`된다.
    * 이를 `값에 의한 전달(pass by value)`라고 한다.
* 객체 타입(object/reference type)
  * 변경 가능한 값(mutable value)
  * 변수 할당시 변수에 `참조 값이 저장`
  * 객체를 가리키는 변수를 다른 변수에 할당하면 `원본의 참조 값이 복사되어 전달`된다.
    * 이를 `참조에 의한 전달(pass by reference)`라고 한다.

### 원시 값

#### 변경 불가능한 값

* 원시 타입(primitive type)의 값
  * 변경 불가능한 값(immutable value)라고 한다.
  * 한번 생성된 값은 `읽기 전용(read only)`로 변경할 수 없다.

* `변경 불가능한 값(immutable value)?`
  * 변수는 하나의 값을 저장하기 위해 확보된 메모리 공간 혹은 식별하기 위한 이름이다.
  * 값은 변수에 저장된 데이터로 표현식이 평가되어 생성된 결과이다.
    * `변경 불가능하다는 것은 변수가 아니라 값에 대한 진술`이다.
    * 원시 값 자체를 변경할 수 없다는 것이지 `변수 값을 변경할 수 없다는 것이 아니다.`
    * 변수는 `언제든지 재할당을 통해 변수 값을 교체`할 수 있다.
  * 상수?
    * 상수는 `변수의 상대 개념으로 재할당이 금지된 변수`이다.
    * 메모리 공간이 필요하므로 변수라고 할 수 있다.
    * 다만, 변수는 언제든 `재할당이 가능`한 반면, 상수는 `단 한 번만 할당이 허용`된다.
    * 따라서 상수와 변경 불가능한 값은 동일하지 않다.
  * 원시 값
    * 변경 불가능한 값, 읽기 전용 값이다.
    * 어떤 일이 있어도 불변한다.
    * 원시 값의 특성은 `데이터의 신뢰성`을 보장한다.
  * 값의 할당
    1. 새로운 메모리 공간 확보
    2. 재할당한 원시 값을 저장
    3. 새롭게 재할당한 원시 값을 가리킨다.
    4. 이 때, 변수가 참조하던 `메모리 공간의 주소가 바뀐다.`
  * 메모리 주소가 바뀐 이유
    * `원시 값이 변경 불가능하기 때문이다.`
    * 새로운 원시 값을 재할당했을 때 공간의 주소를 바꿀 필요 없이 `원시 값 자체를 변경`하면 된다.
    * 하지만 원시 값은 변경 불가능하다.
  * 결론
    1. 원시 값을 재할당하면 새로운 메모리 공간을 확보하고 재할당한 값을 저장한다.
    2. 변수가 참조하던 메모리 공간의 주소를 변경한다.
    3. 이러한 특성을 `불변성(immutability)`라고 한다.
* 불변성을 갖는 원시 값을 할당한 변수
  * 재할당 이외에 변수 값을 변경할 수 있는 방법이 없다.
* `재할당 이외의 값을 변경할 수 있다면?`
  *  예기치 않게 변수 값이 변경될 수 있다.
  * 이렇게 되면 상태 추적이 어려워진다.
